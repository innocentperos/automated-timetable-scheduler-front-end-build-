import{u as C}from"./form-validations.GCMU-Axm.js";import{n as y,r as m,o as _,y as h,w as o,d as u,b as a,z as s,A as x,T as w}from"./entry.tQWHpBLf.js";import{u as k}from"./use-notification.Rdal1ke4.js";import{u as T}from"./use-fetch-header.3DHnPbz-.js";import{u as N}from"./use-logger.h09id-NO.js";import{a as A,b as L,c as R,V as U}from"./VCard.T8BHTP73.js";import{V as B}from"./VTextField.6LPIlZmm.js";import{V as f}from"./VBtn._oQ1uiNP.js";import"./VRow.WlLBb9Jc.js";import"./createSimpleFunctional.413Od-xt.js";import"./index.AmeJTHgO.js";import"./VAvatar.NX62-iRj.js";import"./transition.31NosCAE.js";import"./index.qvKOBlyP.js";import"./VInput.AAxW8xuy.js";import"./easing.imumzmxr.js";import"./forwardRefs.y8pOSn8h.js";import"./VProgressCircular.DTBbBXDU.js";const Y=y({__name:"add-venue-category",emits:["close","add"],setup(F,{emit:p}){const r=m(""),n=m(!1),{minLen:g,required:V}=C(),b=w(),{add:l}=k(),d=p;function c(){r.value="",n.value=!1,d("close")}async function v(){try{const i=await $fetch("/venues/categories/",{method:"post",baseURL:b.public.baseURL,headers:T([]),body:{title:r.value}});d("add",i),c()}catch(i){const t=i;if(N().error("Add Venue Category Dialog","Unable to add venue category",t),!t.statusCode){l({text:"Oops, please make sure you have a stable internet connection and try again",icon:"mdi-wifi-alert",closable:!0,action(e){e()}});return}switch(t.statusCode){case 400:l({text:"Invalid form was provided",icon:"mdi-finbox-full-outline",closable:!0,action(e){e()}});break;default:l({text:"Oops,something wrong happened on the server please try again",icon:"mdi-server",closable:!0,action(e){e()}});break}}finally{n.value=!1}}return(i,t)=>(_(),h(U,null,{default:o(()=>[a(A,null,{default:o(()=>[u("New Venue Category")]),_:1}),a(L,null,{default:o(()=>[a(B,{name:"title",label:"Title",id:"title",modelValue:s(r),"onUpdate:modelValue":t[0]||(t[0]=e=>x(r)?r.value=e:null),rules:[s(V),s(g)(3)]},null,8,["modelValue","rules"])]),_:1}),a(R,null,{default:o(()=>[a(f,{color:"primary",onClick:v,loading:s(n)},{default:o(()=>[u("Add")]),_:1},8,["loading"]),a(f,{color:"error",onClick:c},{default:o(()=>[u("Close")]),_:1})]),_:1})]),_:1}))}});export{Y as default};
