import{ai as i,r as c,v as u,T as v}from"./entry.tQWHpBLf.js";import{u as _}from"./use-fetch-header.3DHnPbz-.js";const g=i("course-store",()=>{function l(e){e.forEach(r=>{s.value[r.pk]=r})}function f(){return u(()=>{const e=[];for(const r of Object.values(s.value))e.push(r);return e})}const s=c({}),t=c({}),a=c({});async function n(e){try{t.value[e]=!0;const r=await $fetch(`/courses/${e}/`,{baseURL:v().public.baseURL,headers:_([])});s.value[e]=r,a.value[e]=void 0}catch(r){const o=r;a.value[e]=o}finally{t.value[e]=!1}}return{get:(e,r=!1)=>{const o=u(()=>s.value[e]);return(!o.value||r)&&n(e),{data:o,pending:u(()=>t.value[e]),error:u(()=>a.value[e]),refresh:()=>n(e)}},all:f,insert:l}});export{g as u};
