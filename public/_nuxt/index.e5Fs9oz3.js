import{n as q,u as M,r as A,W as Z,V as D,v as g,X as G,o as u,y as m,w as t,z as a,b as e,a as y,t as J,A as S,B as T,C as L,d as w,D as R,T as K,$ as c,a0 as _}from"./entry.tQWHpBLf.js";import{u as k}from"./use-notification.Rdal1ke4.js";import{u as Q,a as Y}from"./departments-store.L9CsyjDw.js";import{u as ee}from"./fetch.EGa3nfvI.js";import{u as te}from"./use-fetch-header.3DHnPbz-.js";import{u as ae}from"./courses-store.hFHtJJlz.js";import{V as h}from"./index.qvKOBlyP.js";import{V as p,a as f}from"./VRow.WlLBb9Jc.js";import{V as z}from"./VSpacer.t62wCS3Z.js";import{V as oe,a as E}from"./VTabs.1rjS6Hl9.js";import{V as I}from"./index.AmeJTHgO.js";import{V as ne,b as N}from"./VWindowItem.1NJacqKo.js";import{V as se}from"./VProgressCircular.DTBbBXDU.js";import{V as P}from"./VDialog.SCbeIy52.js";import{V as le}from"./VContainer.HgjfEFlY.js";import"./use-logger.h09id-NO.js";import"./createSimpleFunctional.413Od-xt.js";import"./VBtn._oQ1uiNP.js";import"./easing.imumzmxr.js";import"./lazy.hsVx4m50.js";import"./ssrBoot.0aXw1rzb.js";import"./transition.31NosCAE.js";import"./VOverlay.1V9m9YmJ.js";import"./forwardRefs.y8pOSn8h.js";import"./dialog-transition.OyYDh7J5.js";const re=c(()=>_(()=>import("./staff-list-table.EREeR5wz.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]),import.meta.url).then(n=>n.default||n)),de=c(()=>_(()=>import("./course-list-table.fLu3TB_M.js"),__vite__mapDeps([52,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]),import.meta.url).then(n=>n.default||n)),ie=c(()=>_(()=>import("./add_course.zmhxd2vD.js"),__vite__mapDeps([53,54,2,3,1,4,55,56,57,50,6,7,24,14,15,19,12,20,51,58,59,39,34,35,40,10,11,13,16,17,18,21,9,22,23,25,26,27,28,29,30,31,32,33,36,37,38,41,42,60]),import.meta.url).then(n=>n.default||n)),ue=c(()=>_(()=>import("./add_staff.jlXn68b1.js"),__vite__mapDeps([61,62,2,3,1,4,55,5,56,11,50,6,7,24,14,15,19,12,20,51,63,36,13,16,37,64,10,17,18,21,9,22,23,25,26,27,28,29,30,31,32,33,34,35,38,39,40,41,42,60]),import.meta.url).then(n=>n.default||n)),me={class:"text-subtitle-1"},pe=y("span",{class:"d-inline-block mx-2"},"Staffs ",-1),fe=y("span",{class:"d-inline-block mx-2"},"Courses ",-1),Be=q({__name:"index",setup(n){const U=K(),{add:$}=k(),x=M(),V=parseInt(x.params.department_pk),C=Q(),s=A(2),{data:i,pending:v,refresh:B}=ee(`/departments/${V}/`,{retry:5,retryDelay:300,baseURL:U.public.baseURL,headers:te([]),server:!1,lazy:!0,onRequestError(){$({text:"Could not get the department",action(l){B(),l()}})}},"$ETZCymIsH2"),d=A({staff:!1,course:!1});let b=[];Z(()=>{b=D().addActions([{title:"Add Staff",icon:"mdi-plus",hidden:g(()=>s.value!=1),action(){d.value.staff=!0}},{title:"Add Course",icon:"mdi-plus",hidden:g(()=>s.value!=2),action(){d.value.course=!0}}])}),G(()=>{D().removeActions(b)});function O(l){var o;k().add({text:`${l.name} was added to staff`,icon:"mdi-check-all",color:"teal"}),l.department.pk==((o=i.value)==null?void 0:o.pk)?C.insertStaff(i.value.pk,[l]):Y().insert([l])}function W(l){var o;k().add({text:`${l.title} was added to courses`,icon:"mdi-check-all",color:"teal"}),l.department.pk==((o=i.value)==null?void 0:o.pk)?C.insertCourse(i.value.pk,[l]):ae().insert([l])}return(l,o)=>{const F=re,H=de,X=ie,j=ue;return u(),m(le,{fluid:""},{default:t(()=>[a(i)&&!a(v)?(u(),m(p,{key:0,align:"center"},{default:t(()=>[e(f,{cols:"auto",class:"px-4 d-inline-block"},{default:t(()=>[y("span",me,J(a(i).title),1)]),_:1}),e(z),e(f,{cols:"auto"},{default:t(()=>[e(oe,{modelValue:a(s),"onUpdate:modelValue":o[0]||(o[0]=r=>S(s)?s.value=r:null),color:"primary","align-tabs":"center"},{default:t(()=>[e(E,{value:1},{default:t(()=>[e(h,null,{default:t(()=>[T(e(I,null,{default:t(()=>[w("mdi-account-group")]),_:1},512),[[L,a(s)==1]])]),_:1}),pe]),_:1}),e(E,{value:2},{default:t(()=>[e(h,null,{default:t(()=>[T(e(I,null,{default:t(()=>[w("mdi-book-multiple")]),_:1},512),[[L,a(s)==2]])]),_:1}),fe]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(z)]),_:1})):R("",!0),a(i)&&!a(v)?(u(),m(p,{key:1},{default:t(()=>[e(f,{cols:"12"},{default:t(()=>[e(ne,{modelValue:a(s),"onUpdate:modelValue":o[1]||(o[1]=r=>S(s)?s.value=r:null)},{default:t(()=>[e(N,{value:1},{default:t(()=>[e(F,{"department-pk":a(V),active:a(s)==1},null,8,["department-pk","active"])]),_:1}),e(N,{value:2},{default:t(()=>[e(H,{"department-pk":a(V),active:a(s)==2},null,8,["department-pk","active"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):a(v)?(u(),m(p,{key:2,justify:"center"},{default:t(()=>[e(f,{cols:"auto"},{default:t(()=>[e(se,{indeterminate:""})]),_:1})]),_:1})):R("",!0),e(p,null,{default:t(()=>[e(P,{modelValue:a(d).course,"onUpdate:modelValue":o[3]||(o[3]=r=>a(d).course=r),"max-width":"600px",location:"top center",persistent:""},{default:t(()=>[e(X,{"department-id":a(x).params.department_pk,onAdd:W,onClose:o[2]||(o[2]=r=>a(d).course=!1)},null,8,["department-id"])]),_:1},8,["modelValue"]),e(P,{modelValue:a(d).staff,"onUpdate:modelValue":o[5]||(o[5]=r=>a(d).staff=r),"max-width":"600px",location:"top center",persistent:""},{default:t(()=>[e(j,{onAdd:O,onClose:o[4]||(o[4]=r=>a(d).staff=!1)})]),_:1},8,["modelValue"])]),_:1})]),_:1})}}});export{Be as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./staff-list-table.EREeR5wz.js","./fetch.EGa3nfvI.js","./entry.tQWHpBLf.js","./entry.JkaK1PbT.css","./use-fetch-header.3DHnPbz-.js","./use-notification.Rdal1ke4.js","./VRow.WlLBb9Jc.js","./VRow.Jj_ITn01.css","./VDataTable.Jz7QZbN2.js","./VSelect.4u-stGGs.js","./VTextField.6LPIlZmm.js","./index.qvKOBlyP.js","./transition.31NosCAE.js","./VInput.AAxW8xuy.js","./index.AmeJTHgO.js","./index.RLmRraAs.css","./VInput.RlDaFj_L.css","./easing.imumzmxr.js","./forwardRefs.y8pOSn8h.js","./VAvatar.NX62-iRj.js","./VAvatar.Y9acgeJC.css","./VTextField.TVPDxnpH.css","./VList.lljtylUW.js","./ssrBoot.0aXw1rzb.js","./createSimpleFunctional.413Od-xt.js","./VDivider.KeqwIEcH.js","./VDivider.8k_-HhJN.css","./VList.caQDbXay.css","./dialog-transition.OyYDh7J5.js","./VMenu.CmTKH41A.js","./VOverlay.1V9m9YmJ.js","./lazy.hsVx4m50.js","./VOverlay.XsbusQk2.css","./VMenu.d2mYOYiy.css","./VProgressCircular.DTBbBXDU.js","./VProgressCircular.u2v1YYMj.css","./VCheckboxBtn.ztQGvB4X.js","./VCheckboxBtn.ENbCW1_T.css","./VChip.ttJWPZTa.js","./VBtn._oQ1uiNP.js","./VBtn.Y_2JgC81.css","./VChip.y9TZEtu3.css","./VSelect.VhdMMxMj.css","./filter.y4xAiLA_.js","./VDataTable.m2SnTwIe.css","./VSpacer.t62wCS3Z.js","./VSkeletonLoader.bS24LWfm.js","./VSkeletonLoader.ENVXDrOk.css","./VDialog.SCbeIy52.js","./VDialog.lRypuzw5.css","./VCard.T8BHTP73.js","./VCard.3-GUCx0W.css","./course-list-table.fLu3TB_M.js","./add_course.zmhxd2vD.js","./add_course.vue.mMU39b5L.js","./use-logger.h09id-NO.js","./form-validations.GCMU-Axm.js","./types.H3O6Ekup.js","./VBanner.T3kYHC40.js","./VBanner.c-Lj57La.css","./VForm.Y4-k9QxA.js","./add_staff.jlXn68b1.js","./add_staff.vue.Lrt-nJug.js","./VCheckbox.SuWXhtYw.js","./VCheckbox.Flv8K2j6.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}