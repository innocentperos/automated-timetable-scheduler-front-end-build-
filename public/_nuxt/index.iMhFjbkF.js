import{n as j,u as q,U as G,q as H,x as D,r as L,v as M,h as A,o as m,y as _,w as t,z as a,b as e,a as r,t as d,A as P,d as n,D as E,T as X,$ as v,V as N,a0 as k}from"./entry.tQWHpBLf.js";import{u as J}from"./use-notification.Rdal1ke4.js";import{u as K}from"./timetables-store.awZnM9r_.js";import{u as Q}from"./fetch.EGa3nfvI.js";import{u as Y}from"./use-fetch-header.3DHnPbz-.js";import{V as c}from"./index.qvKOBlyP.js";import{V as g,a as p}from"./VRow.WlLBb9Jc.js";import{V as S}from"./VSpacer.t62wCS3Z.js";import{V as Z,a as f}from"./VTabs.1rjS6Hl9.js";import{V as b}from"./index.AmeJTHgO.js";import{V as C}from"./VChip.ttJWPZTa.js";import{V as ee,b as V}from"./VWindowItem.1NJacqKo.js";import{V as te}from"./VProgressCircular.DTBbBXDU.js";import{V as ae}from"./VContainer.HgjfEFlY.js";import"./createSimpleFunctional.413Od-xt.js";import"./VBtn._oQ1uiNP.js";import"./easing.imumzmxr.js";import"./VAvatar.NX62-iRj.js";import"./transition.31NosCAE.js";import"./lazy.hsVx4m50.js";import"./ssrBoot.0aXw1rzb.js";const le=v(()=>k(()=>import("./timetable__configuration.d6gCIKlj.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58]),import.meta.url).then(s=>s.default||s)),oe=v(()=>k(()=>import("./timetable__staffs_picker.V8q-xnzk.js"),__vite__mapDeps([59,60,2,3,61,4,62,5,63,7,53,10,11,34,13,14,20,21,22,54,29,30,24,25,31,32,64,42,44,65,66,37,38,27,28,39,67,68,41,19,43,69,15,16,70,12,17,71,72,73,1,40,45,74,75,76,77,57]),import.meta.url).then(s=>s.default||s)),se=v(()=>k(()=>import("./timetable__courses_picker.Cy-XpXku.js"),__vite__mapDeps([78,79,2,3,61,4,62,63,6,53,10,11,34,13,14,20,21,22,54,80,81,12,15,16,17,64,7,24,25,42,44,65,66,37,38,27,28,39,67,68,41,19,43,69,30,31,70,71,72,73,1,5,74,75,51,52,40,45,76,77,57]),import.meta.url).then(s=>s.default||s)),ne=v(()=>k(()=>import("./timetable__venues_picker.qyB8hVqV.js"),__vite__mapDeps([82,83,2,3,61,4,62,5,63,53,10,11,34,13,14,20,21,22,54,64,7,24,25,42,44,65,66,37,38,27,28,39,67,68,41,19,43,69,15,16,30,31,70,12,17,71,72,73,1,40,45,74,75,76,77,57]),import.meta.url).then(s=>s.default||s)),ie={class:"text-subtitle-1"},ue=r("span",{class:"d-inline-block mx-2"},"Configurations",-1),re={class:"d-inline-block mx-2"},me={class:"d-inline-block mx-2"},_e={class:"d-inline-block mx-2"},Ee=j({__name:"index",setup(s){const w=q();G(()=>{H().isAdmin.value||D().replace({name:"time-tables-timetable_pk-view",params:{timetable_pk:w.params.timetable_pk}})});const U=X(),{add:I}=J(),h=K(),i=L(0),{data:O,pending:y,error:R,refresh:B}=Q(`/timetables/${w.params.timetable_pk}`,{retry:5,retryDelay:300,baseURL:U.public.baseURL,headers:Y([]),server:!1,lazy:!0,transform:function(o){const u={...o,start_date:new Date(o.start_date),end_date:new Date(o.end_date),excluded_days:o.excluded_days.map(T=>new Date(T))};return h.insert(u),h.retrieve(u.pk)}},"$66OhA2G5Uh"),l=M(()=>{var o;return(o=O.value)==null?void 0:o.value}),z=L(!1);return A(l,()=>{l.value&&!z.value&&(h.insert(l.value),z.value=!0,N().addAction({title:"View Table",icon:"mdi-calendar",action(){var o;D().push(`/time-tables/${(o=l.value)==null?void 0:o.pk}/view`)}}),N().setTitle(l.value.title))}),A(R,()=>{R.value&&I({text:"Could not get the time able",action(o){B(),o()}})}),(o,u)=>{const T=le,$=oe,F=se,W=ne;return m(),_(ae,{fluid:""},{default:t(()=>[a(l)&&!a(y)?(m(),_(g,{key:0,align:"center"},{default:t(()=>[e(p,{cols:"auto",class:"px-4 d-inline-block"},{default:t(()=>[r("span",ie,d(a(l).title),1)]),_:1}),e(S),e(p,{cols:"auto"},{default:t(()=>[e(Z,{modelValue:a(i),"onUpdate:modelValue":u[0]||(u[0]=x=>P(i)?i.value=x:null),color:"primary","align-tabs":"center"},{default:t(()=>[e(f,{value:0},{default:t(()=>[e(c,null,{default:t(()=>[e(b,null,{default:t(()=>[n("mdi-cog")]),_:1})]),_:1}),ue]),_:1}),e(f,{value:1},{default:t(()=>[e(c,null,{default:t(()=>[e(b,null,{default:t(()=>[n("mdi-account-group")]),_:1})]),_:1}),r("span",re,[n("Staffs "),e(C,{class:"ml-2"},{default:t(()=>[n(d(a(l).staffs.length),1)]),_:1})])]),_:1}),e(f,{value:2},{default:t(()=>[e(c,null,{default:t(()=>[e(b,null,{default:t(()=>[n("mdi-book-multiple")]),_:1})]),_:1}),r("span",me,[n("Courses "),e(C,{class:"ml-2"},{default:t(()=>[n(d(a(l).courses.length),1)]),_:1})])]),_:1}),e(f,{value:3},{default:t(()=>[e(c,null,{default:t(()=>[e(b,null,{default:t(()=>[n("mdi-home-group")]),_:1})]),_:1}),r("span",_e,[n("Venues "),e(C,{class:"ml-2"},{default:t(()=>[n(d(a(l).venues.length),1)]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(S)]),_:1})):E("",!0),a(l)&&!a(y)?(m(),_(g,{key:1},{default:t(()=>[e(p,{cols:"12"},{default:t(()=>[e(ee,{modelValue:a(i),"onUpdate:modelValue":u[1]||(u[1]=x=>P(i)?i.value=x:null)},{default:t(()=>[e(V,{value:0},{default:t(()=>[e(T,{"timetable-pk":a(l).pk,active:a(i)==0},null,8,["timetable-pk","active"])]),_:1}),e(V,{value:1},{default:t(()=>[e($,{"table-pk":a(l).pk},null,8,["table-pk"])]),_:1}),e(V,{value:2},{default:t(()=>[e(F,{"table-pk":a(l).pk},null,8,["table-pk"])]),_:1}),e(V,{value:3},{default:t(()=>[e(W,{"table-pk":a(l).pk},null,8,["table-pk"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):a(y)?(m(),_(g,{key:2,justify:"center"},{default:t(()=>[e(p,{cols:"auto"},{default:t(()=>[e(te,{indeterminate:""})]),_:1})]),_:1})):E("",!0)]),_:1})}}});export{Ee as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./timetable__configuration.d6gCIKlj.js","./timetables-store.awZnM9r_.js","./entry.tQWHpBLf.js","./entry.JkaK1PbT.css","./use-fetch-header.3DHnPbz-.js","./use-notification.Rdal1ke4.js","./types.H3O6Ekup.js","./index.qvKOBlyP.js","./VExpansionPanel.ju_wnrv-.js","./VExpansionPanels.Cp-9pIPO.js","./VRow.WlLBb9Jc.js","./VRow.Jj_ITn01.css","./VBtn._oQ1uiNP.js","./index.AmeJTHgO.js","./index.RLmRraAs.css","./VProgressCircular.DTBbBXDU.js","./VProgressCircular.u2v1YYMj.css","./VBtn.Y_2JgC81.css","./VExpansionPanels.RUZ5Akns.css","./lazy.hsVx4m50.js","./VAvatar.NX62-iRj.js","./transition.31NosCAE.js","./VAvatar.Y9acgeJC.css","./VSlider.-G8zbL2h.js","./VInput.AAxW8xuy.js","./VInput.RlDaFj_L.css","./VSlider.JGJgm4J8.css","./VDivider.KeqwIEcH.js","./VDivider.8k_-HhJN.css","./VCheckbox.SuWXhtYw.js","./VCheckboxBtn.ztQGvB4X.js","./VCheckboxBtn.ENbCW1_T.css","./VCheckbox.Flv8K2j6.css","./VSpacer.t62wCS3Z.js","./createSimpleFunctional.413Od-xt.js","./VSheet.C_PFHFB9.js","./VSheet.0HSrGAb-.css","./VList.lljtylUW.js","./ssrBoot.0aXw1rzb.js","./VList.caQDbXay.css","./VTooltip.gJvVvmRp.js","./VOverlay.1V9m9YmJ.js","./easing.imumzmxr.js","./VOverlay.XsbusQk2.css","./forwardRefs.y8pOSn8h.js","./VTooltip.oPNLlzwT.css","./VToolbar.tLNW-9Tn.js","./VToolbar.XWfoe3Cp.css","./VNavigationDrawer.Qf0a9uN4.js","./layout.RwfjoJ97.js","./VNavigationDrawer.vCvlxCCs.css","./VAlert.9L9TAqJu.js","./VAlert.9fEOfC_e.css","./VCard.T8BHTP73.js","./VCard.3-GUCx0W.css","./VWindowItem.1NJacqKo.js","./VWindowItem.3ljaXY-l.css","./VContainer.HgjfEFlY.js","./timetable__configuration.DhinB5Ff.css","./timetable__staffs_picker.V8q-xnzk.js","./add_staff.vue.Lrt-nJug.js","./fetch.EGa3nfvI.js","./use-logger.h09id-NO.js","./form-validations.GCMU-Axm.js","./VTextField.6LPIlZmm.js","./VTextField.TVPDxnpH.css","./VSelect.4u-stGGs.js","./dialog-transition.OyYDh7J5.js","./VMenu.CmTKH41A.js","./VMenu.d2mYOYiy.css","./VChip.ttJWPZTa.js","./VChip.y9TZEtu3.css","./VSelect.VhdMMxMj.css","./VForm.Y4-k9QxA.js","./VSkeletonLoader.bS24LWfm.js","./VSkeletonLoader.ENVXDrOk.css","./VDialog.SCbeIy52.js","./VDialog.lRypuzw5.css","./timetable__courses_picker.Cy-XpXku.js","./add_course.vue.mMU39b5L.js","./VBanner.T3kYHC40.js","./VBanner.c-Lj57La.css","./timetable__venues_picker.qyB8hVqV.js","./add_venue.vue.fS5TvNHf.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}