import{n as S,s as A,r as l,u as N,q as z,v as h,x as g,h as D,o as y,y as v,w as e,b as o,z as t,A as x,d as c,t as E,B as T,C as U,D as q,a as r,p as F,e as P,_ as j}from"./entry.tQWHpBLf.js";import{u as G}from"./use-logger.h09id-NO.js";import{V as M}from"./index.qvKOBlyP.js";import{V as O}from"./VContainer.HgjfEFlY.js";import{V as w,a}from"./VRow.WlLBb9Jc.js";import{V as W}from"./VCard.T8BHTP73.js";import{V as X}from"./VForm.Y4-k9QxA.js";import{V as C}from"./VTextField.6LPIlZmm.js";import{V as $}from"./index.AmeJTHgO.js";import{V as k}from"./VBtn._oQ1uiNP.js";import{V as H}from"./VAlert.9L9TAqJu.js";import{V as J}from"./VBanner.T3kYHC40.js";import{V as K,a as Q}from"./VMain.xwUrnvbJ.js";import"./createSimpleFunctional.413Od-xt.js";import"./VAvatar.NX62-iRj.js";import"./transition.31NosCAE.js";import"./VInput.AAxW8xuy.js";import"./forwardRefs.y8pOSn8h.js";import"./easing.imumzmxr.js";import"./VProgressCircular.DTBbBXDU.js";import"./layout.RwfjoJ97.js";import"./ssrBoot.0aXw1rzb.js";const m=n=>(F("data-v-fae8c525"),n=n(),P(),n),Y=m(()=>r("span",{class:"text-h3 py-4"},"Welcome !",-1)),Z=m(()=>r("span",{class:"text-h6"}," Let get you logged in ",-1)),ee=m(()=>r("span",{class:"text-h4"},"LOGIN",-1)),oe={class:"d-flex justify-space-between w-100 px-10"},te=m(()=>r("span",{class:"text-subtitle-1"},"If you dont have an account, you can register for one ",-1)),ae=S({__name:"login",setup(n){A("not-authenticated");const i=l(!1),u=l(N().query.email),d=l(""),b=l(!1),p=l(!0);function I(){p.value=!1}const{loading:L,error:_,retry:R}=z().login(h(()=>u.value),h(()=>d.value),!1,V=>{G().info("Login","Login successfully",V),g().replace("/time-tables")});D([_.value],()=>{_.value&&(p.value=!0)});function B(){console.log(g().currentRoute.value.name),g().replace({name:"auth-register"})}return(V,s)=>(y(),v(Q,{theme:t(b)?"light":"dark"},{default:e(()=>[o(K,null,{default:e(()=>[o(O,{style:{height:"100vh"}},{default:e(()=>[o(w,{"align-content":"center",style:{height:"100%"}},{default:e(()=>[o(a,{cols:6,offset:3,"offset-lg":"0",lg:6},{default:e(()=>[o(W,{class:"pa-5 d-flex flex-column w-100"},{default:e(()=>[Y,Z]),_:1})]),_:1}),o(a,{cols:6,offset:3,"offset-lg":"0",lg:6,"align-self":"stretch"},{default:e(()=>[o(X,null,{default:e(()=>[o(w,null,{default:e(()=>[o(a,{cols:12},{default:e(()=>[ee]),_:1}),o(a,{cols:12},{default:e(()=>[o(C,{modelValue:t(u),"onUpdate:modelValue":s[0]||(s[0]=f=>x(u)?u.value=f:null),label:"Email Address",type:"email"},null,8,["modelValue"])]),_:1}),o(a,{cols:12},{default:e(()=>[o(C,{modelValue:t(d),"onUpdate:modelValue":s[2]||(s[2]=f=>x(d)?d.value=f:null),label:"Password",type:t(i)?"text":"password"},{"append-inner":e(()=>[o($,{onClick:s[1]||(s[1]=f=>i.value=!t(i))},{default:e(()=>[c(E(t(i)?"mdi-eye-off-outline":"mdi-eye-outline"),1)]),_:1})]),_:1},8,["modelValue","type"])]),_:1}),o(a,{cols:12},{default:e(()=>[o(k,{block:"",color:"primary",size:"large",onClick:t(R),loading:t(L)},{default:e(()=>[c("Login")]),_:1},8,["onClick","loading"])]),_:1})]),_:1})]),_:1})]),_:1}),o(a,{cols:6,offset:3,"offset-lg":6,lg:6},{default:e(()=>[o(M,null,{default:e(()=>[t(_)?T((y(),v(H,{key:0,dropzone:"move",class:"my-4",type:"error",onClick:I},{default:e(()=>[c(" An error occured ")]),_:1},512)),[[U,t(p)]]):q("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),o(J,{position:"absolute",location:"bottom center"},{default:e(()=>[r("div",oe,[te,o(k,{color:"primary",variant:"outlined",onClick:B},{default:e(()=>[c("Register")]),_:1})])]),_:1})]),_:1})]),_:1},8,["theme"]))}}),Ie=j(ae,[["__scopeId","data-v-fae8c525"]]);export{Ie as default};
